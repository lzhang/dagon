<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for dagon/src/getDependency.js</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../../prettify.css">
    <link rel="stylesheet" href="../../base.css">
    <style type='text/css'>
        div.coverage-summary .sorter {
            background-image: url(../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class="header high">
    <h1>Code coverage report for <span class="entity">dagon/src/getDependency.js</span></h1>
    <h2>
        Statements: <span class="metric">86.36% <small>(57 / 66)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Branches: <span class="metric">73.08% <small>(19 / 26)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Functions: <span class="metric">80% <small>(4 / 5)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Lines: <span class="metric">86.36% <small>(57 / 66)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../index.html">All files</a> &#187; <a href="index.html">dagon/src/</a> &#187; getDependency.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">8</span>
<span class="cline-any cline-yes">8</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">139</span>
<span class="cline-any cline-yes">139</span>
<span class="cline-any cline-yes">139</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">139</span>
<span class="cline-any cline-yes">139</span>
<span class="cline-any cline-yes">1375</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1375</span>
<span class="cline-any cline-yes">1375</span>
<span class="cline-any cline-yes">118</span>
<span class="cline-any cline-yes">118</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">139</span>
<span class="cline-any cline-yes">139</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">139</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">143</span>
<span class="cline-any cline-yes">141</span>
<span class="cline-any cline-yes">139</span>
<span class="cline-any cline-yes">139</span>
<span class="cline-any cline-yes">139</span>
<span class="cline-any cline-yes">139</span>
<span class="cline-any cline-yes">21</span>
<span class="cline-any cline-yes">21</span>
<span class="cline-any cline-yes">139</span>
<span class="cline-any cline-yes">8</span>
<span class="cline-any cline-yes">8</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">139</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">46</span>
<span class="cline-any cline-yes">44</span>
<span class="cline-any cline-yes">8</span>
<span class="cline-any cline-yes">8</span>
<span class="cline-any cline-yes">8</span>
<span class="cline-any cline-yes">8</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">8</span>
<span class="cline-any cline-yes">8</span>
<span class="cline-any cline-yes">29</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">29</span>
<span class="cline-any cline-yes">29</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">8</span>
<span class="cline-any cline-yes">8</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">8</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">8</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">36</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/**
 * Created by parallels on 9/9/15.
 */
'use strict';
&nbsp;
var groupDependencies = require('./groupDependencies');
var logger = require('./logger');
var invariant = require('invariant');
&nbsp;
var tryRequireDependency = function tryRequireDependency(dependencyName) {
    try {
        var tryingRequire = require(dependencyName);
        <span class="missing-if-branch" title="else path not taken" >E</span>if (tryingRequire) {
            logger.trace('getDependency | tryRequireDependency: require found item');
            logger.trace('getDependency | tryRequireDependency: adding it to graph');
            return { name: dependencyName,
                resolvedInstance: tryingRequire,
                wrappedInstance: <span class="fstat-no" title="function not covered" >function wrappedInstance() {</span>
<span class="cstat-no" title="statement not covered" >                    return tryingRequire;</span>
                }
            };
        }
    } catch (ex) {
        logger.info('getDependency | tryRequireDependency: item was not found and require threw an error');
        logger.info('getDependency | tryRequireDependency: error' + ex);
        //swallow, just a hail mary to resolve
    }
};
&nbsp;
var findDependency = function findDependency(_items, dependencyName) {
    var _iteratorNormalCompletion = true;
    var _didIteratorError = false;
    var _iteratorError = undefined;
&nbsp;
    try {
        for (var _iterator = _items[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
            var i = _step.value;
&nbsp;
            logger.trace('getDependency | findDependency: ' + dependencyName + ' target :' + i.name);
            if (i.name === dependencyName) {
                logger.trace('getDependency | findDependency: item found ' + dependencyName);
                return i;
            }
        }
    } catch (err) {
<span class="cstat-no" title="statement not covered" >        _didIteratorError = true;</span>
<span class="cstat-no" title="statement not covered" >        _iteratorError = err;</span>
    } finally {
        try {
            <span class="missing-if-branch" title="if path not taken" >I</span>if (!_iteratorNormalCompletion &amp;&amp; _iterator['return']) {
<span class="cstat-no" title="statement not covered" >                _iterator['return']();</span>
            }
        } finally {
            <span class="missing-if-branch" title="if path not taken" >I</span>if (_didIteratorError) {
<span class="cstat-no" title="statement not covered" >                throw _iteratorError;</span>
            }
        }
    }
};
&nbsp;
var fullDependency = function fullDependency(dependencyGraph, dependencyName) {
    invariant(dependencyGraph, 'You must provide a a collection of dependencies to query');
    invariant(dependencyName, 'You must provide a dependency name to find');
    var item;
    logger.trace('getDependency | fullDependency: Trying to find the dependency : ' + dependencyName);
    item = findDependency(dependencyGraph, dependencyName);
    if (!item) {
        logger.trace('getDependency | fullDependency: Single dependency not found. Trying to build grouped dependency : ' + dependencyName);
        item = groupDependencies(dependencyGraph, dependencyName);
    }if (!item) {
        logger.trace('getDependency | fullDependency: Grouped dependency not found.  Trying to require dependency: ' + dependencyName);
        item = tryRequireDependency(dependencyName);
    }
    return item;
};
&nbsp;
var resolvedInstance = function resolvedInstance(dependencyGraph, dependencyName) {
    var dependency = fullDependency(dependencyGraph, dependencyName);
    if (Array.isArray(dependency)) {
        var groupedDependency = [];
        var _iteratorNormalCompletion2 = true;
        var _didIteratorError2 = false;
        var _iteratorError2 = undefined;
&nbsp;
        try {
            for (var _iterator2 = dependency[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                var i = _step2.value;
&nbsp;
                <span class="missing-if-branch" title="else path not taken" >E</span>if (i.groupName == dependencyName) {
                    groupedDependency.push(i.resolvedInstance);
                }
            }
        } catch (err) {
<span class="cstat-no" title="statement not covered" >            _didIteratorError2 = true;</span>
<span class="cstat-no" title="statement not covered" >            _iteratorError2 = err;</span>
        } finally {
            try {
                <span class="missing-if-branch" title="if path not taken" >I</span>if (!_iteratorNormalCompletion2 &amp;&amp; <span class="branch-1 cbranch-no" title="branch not covered" >_iterator2['return'])</span> {
<span class="cstat-no" title="statement not covered" >                    _iterator2['return']();</span>
                }
            } finally {
                <span class="missing-if-branch" title="if path not taken" >I</span>if (_didIteratorError2) {
<span class="cstat-no" title="statement not covered" >                    throw _iteratorError2;</span>
                }
            }
        }
&nbsp;
        return groupedDependency;
    }
    return dependency ? dependency.resolvedInstance : undefined;
};
&nbsp;
module.exports = {
    fullDependency: fullDependency,
    resolvedInstance: resolvedInstance
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3JoYXJpay9EZXZlbG9wbWVudC9NZXRob2RGaXRuZXNzL2RhZ29uL3NyYy9nZXREZXBlbmRlbmN5LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBR0EsSUFBSSxpQkFBaUIsR0FBRyxPQUFPLENBQUMscUJBQXFCLENBQUMsQ0FBQztBQUN2RCxJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUM7QUFDakMsSUFBSSxTQUFTLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDOztBQUVyQyxJQUFJLG9CQUFvQixHQUFHLFNBQXZCLG9CQUFvQixDQUFZLGNBQWMsRUFBRTtBQUNoRCxRQUFJO0FBQ0EsWUFBSSxhQUFhLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFDO0FBQzVDLFlBQUksYUFBYSxFQUFFO0FBQ2Ysa0JBQU0sQ0FBQyxLQUFLLENBQUMsMERBQTBELENBQUMsQ0FBQztBQUN6RSxrQkFBTSxDQUFDLEtBQUssQ0FBQywwREFBMEQsQ0FBQyxDQUFDO0FBQ3pFLG1CQUFPLEVBQUMsSUFBSSxFQUFVLGNBQWM7QUFDaEMsZ0NBQWdCLEVBQUUsYUFBYTtBQUMvQiwrQkFBZSxFQUFFLDJCQUFXO0FBQUUsMkJBQU8sYUFBYSxDQUFDO2lCQUFFO2FBQ3hELENBQUM7U0FDTDtLQUNKLENBQUMsT0FBTyxFQUFFLEVBQUU7QUFDVCxjQUFNLENBQUMsSUFBSSxDQUFDLHFGQUFxRixDQUFDLENBQUM7QUFDbkcsY0FBTSxDQUFDLElBQUksQ0FBQyw2Q0FBNkMsR0FBRyxFQUFFLENBQUMsQ0FBQzs7S0FFbkU7Q0FDSixDQUFDOztBQUVGLElBQUksY0FBYyxHQUFHLFNBQWpCLGNBQWMsQ0FBWSxNQUFNLEVBQUUsY0FBYyxFQUFDOzs7Ozs7QUFDakQsNkJBQWEsTUFBTSw4SEFBQztnQkFBWixDQUFDOztBQUNMLGtCQUFNLENBQUMsS0FBSyxDQUFDLGtDQUFrQyxHQUFDLGNBQWMsR0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ3JGLGdCQUFHLENBQUMsQ0FBQyxJQUFJLEtBQUssY0FBYyxFQUFDO0FBQ3pCLHNCQUFNLENBQUMsS0FBSyxDQUFDLDZDQUE2QyxHQUFDLGNBQWMsQ0FBQyxDQUFDO0FBQzNFLHVCQUFPLENBQUMsQ0FBQzthQUNaO1NBQ0o7Ozs7Ozs7Ozs7Ozs7OztDQUNKLENBQUM7O0FBRUYsSUFBSSxjQUFjLEdBQUcsU0FBUyxjQUFjLENBQUMsZUFBZSxFQUFFLGNBQWMsRUFBRTtBQUMxRSxhQUFTLENBQUMsZUFBZSxFQUFFLDBEQUEwRCxDQUFDLENBQUM7QUFDdkYsYUFBUyxDQUFDLGNBQWMsRUFBRSw0Q0FBNEMsQ0FBQyxDQUFDO0FBQ3hFLFFBQUksSUFBSSxDQUFDO0FBQ1QsVUFBTSxDQUFDLEtBQUssQ0FBQyxrRUFBa0UsR0FBRyxjQUFjLENBQUMsQ0FBQztBQUNsRyxRQUFJLEdBQUcsY0FBYyxDQUFDLGVBQWUsRUFBRSxjQUFjLENBQUMsQ0FBQztBQUN2RCxRQUFJLENBQUMsSUFBSSxFQUFFO0FBQ1AsY0FBTSxDQUFDLEtBQUssQ0FBQyxvR0FBb0csR0FBRyxjQUFjLENBQUMsQ0FBQztBQUNwSSxZQUFJLEdBQUcsaUJBQWlCLENBQUMsZUFBZSxFQUFFLGNBQWMsQ0FBQyxDQUFDO0tBQzdELEFBQUMsSUFBSSxDQUFDLElBQUksRUFBRTtBQUNULGNBQU0sQ0FBQyxLQUFLLENBQUMsK0ZBQStGLEdBQUcsY0FBYyxDQUFDLENBQUM7QUFDL0gsWUFBSSxHQUFHLG9CQUFvQixDQUFDLGNBQWMsQ0FBQyxDQUFDO0tBQy9DO0FBQ0QsV0FBTyxJQUFJLENBQUM7Q0FDZixDQUFDOztBQUVGLElBQUksZ0JBQWdCLEdBQUcsU0FBbkIsZ0JBQWdCLENBQVksZUFBZSxFQUFFLGNBQWMsRUFBQztBQUM1RCxRQUFJLFVBQVUsR0FBRyxjQUFjLENBQUMsZUFBZSxFQUFFLGNBQWMsQ0FBQyxDQUFDO0FBQ2pFLFFBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsRUFBQztBQUN6QixZQUFJLGlCQUFpQixHQUFHLEVBQUUsQ0FBQzs7Ozs7O0FBQzNCLGtDQUFjLFVBQVUsbUlBQUU7b0JBQWpCLENBQUM7O0FBQ04sb0JBQUksQ0FBQyxDQUFDLFNBQVMsSUFBSSxjQUFjLEVBQUU7QUFDL0IscUNBQWlCLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO2lCQUM5QzthQUNKOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ0QsZUFBTyxpQkFBaUIsQ0FBQztLQUM1QjtBQUNELFdBQU8sVUFBVSxHQUFHLFVBQVUsQ0FBQyxnQkFBZ0IsR0FBRSxTQUFTLENBQUM7Q0FDOUQsQ0FBQzs7QUFFRixNQUFNLENBQUMsT0FBTyxHQUFHO0FBQ1Qsa0JBQWMsRUFBRSxjQUFjO0FBQzlCLG9CQUFnQixFQUFFLGdCQUFnQjtDQUN6QyxDQUFDIiwiZmlsZSI6Ii9ob21lL3JoYXJpay9EZXZlbG9wbWVudC9NZXRob2RGaXRuZXNzL2RhZ29uL3NyYy9nZXREZXBlbmRlbmN5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IHBhcmFsbGVscyBvbiA5LzkvMTUuXG4gKi9cbnZhciBncm91cERlcGVuZGVuY2llcyA9IHJlcXVpcmUoJy4vZ3JvdXBEZXBlbmRlbmNpZXMnKTtcbnZhciBsb2dnZXIgPSByZXF1aXJlKCcuL2xvZ2dlcicpO1xudmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ludmFyaWFudCcpO1xuXG52YXIgdHJ5UmVxdWlyZURlcGVuZGVuY3kgPSBmdW5jdGlvbihkZXBlbmRlbmN5TmFtZSkge1xuICAgIHRyeSB7XG4gICAgICAgIHZhciB0cnlpbmdSZXF1aXJlID0gcmVxdWlyZShkZXBlbmRlbmN5TmFtZSk7XG4gICAgICAgIGlmICh0cnlpbmdSZXF1aXJlKSB7XG4gICAgICAgICAgICBsb2dnZXIudHJhY2UoJ2dldERlcGVuZGVuY3kgfCB0cnlSZXF1aXJlRGVwZW5kZW5jeTogcmVxdWlyZSBmb3VuZCBpdGVtJyk7XG4gICAgICAgICAgICBsb2dnZXIudHJhY2UoJ2dldERlcGVuZGVuY3kgfCB0cnlSZXF1aXJlRGVwZW5kZW5jeTogYWRkaW5nIGl0IHRvIGdyYXBoJyk7XG4gICAgICAgICAgICByZXR1cm4ge25hbWUgICAgICAgIDogZGVwZW5kZW5jeU5hbWUsXG4gICAgICAgICAgICAgICAgcmVzb2x2ZWRJbnN0YW5jZTogdHJ5aW5nUmVxdWlyZSxcbiAgICAgICAgICAgICAgICB3cmFwcGVkSW5zdGFuY2U6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdHJ5aW5nUmVxdWlyZTsgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgIGxvZ2dlci5pbmZvKCdnZXREZXBlbmRlbmN5IHwgdHJ5UmVxdWlyZURlcGVuZGVuY3k6IGl0ZW0gd2FzIG5vdCBmb3VuZCBhbmQgcmVxdWlyZSB0aHJldyBhbiBlcnJvcicpO1xuICAgICAgICBsb2dnZXIuaW5mbygnZ2V0RGVwZW5kZW5jeSB8IHRyeVJlcXVpcmVEZXBlbmRlbmN5OiBlcnJvcicgKyBleCk7XG4gICAgICAgIC8vc3dhbGxvdywganVzdCBhIGhhaWwgbWFyeSB0byByZXNvbHZlXG4gICAgfVxufTtcblxudmFyIGZpbmREZXBlbmRlbmN5ID0gZnVuY3Rpb24oX2l0ZW1zLCBkZXBlbmRlbmN5TmFtZSl7XG4gICAgZm9yKGxldCBpIG9mIF9pdGVtcyl7XG4gICAgICAgIGxvZ2dlci50cmFjZSgnZ2V0RGVwZW5kZW5jeSB8IGZpbmREZXBlbmRlbmN5OiAnK2RlcGVuZGVuY3lOYW1lKycgdGFyZ2V0IDonICsgaS5uYW1lKTtcbiAgICAgICAgaWYoaS5uYW1lID09PSBkZXBlbmRlbmN5TmFtZSl7XG4gICAgICAgICAgICBsb2dnZXIudHJhY2UoJ2dldERlcGVuZGVuY3kgfCBmaW5kRGVwZW5kZW5jeTogaXRlbSBmb3VuZCAnK2RlcGVuZGVuY3lOYW1lKTtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxudmFyIGZ1bGxEZXBlbmRlbmN5ID0gZnVuY3Rpb24gZnVsbERlcGVuZGVuY3koZGVwZW5kZW5jeUdyYXBoLCBkZXBlbmRlbmN5TmFtZSkge1xuICAgIGludmFyaWFudChkZXBlbmRlbmN5R3JhcGgsICdZb3UgbXVzdCBwcm92aWRlIGEgYSBjb2xsZWN0aW9uIG9mIGRlcGVuZGVuY2llcyB0byBxdWVyeScpO1xuICAgIGludmFyaWFudChkZXBlbmRlbmN5TmFtZSwgJ1lvdSBtdXN0IHByb3ZpZGUgYSBkZXBlbmRlbmN5IG5hbWUgdG8gZmluZCcpO1xuICAgIHZhciBpdGVtO1xuICAgIGxvZ2dlci50cmFjZSgnZ2V0RGVwZW5kZW5jeSB8IGZ1bGxEZXBlbmRlbmN5OiBUcnlpbmcgdG8gZmluZCB0aGUgZGVwZW5kZW5jeSA6ICcgKyBkZXBlbmRlbmN5TmFtZSk7XG4gICAgaXRlbSA9IGZpbmREZXBlbmRlbmN5KGRlcGVuZGVuY3lHcmFwaCwgZGVwZW5kZW5jeU5hbWUpO1xuICAgIGlmICghaXRlbSkge1xuICAgICAgICBsb2dnZXIudHJhY2UoJ2dldERlcGVuZGVuY3kgfCBmdWxsRGVwZW5kZW5jeTogU2luZ2xlIGRlcGVuZGVuY3kgbm90IGZvdW5kLiBUcnlpbmcgdG8gYnVpbGQgZ3JvdXBlZCBkZXBlbmRlbmN5IDogJyArIGRlcGVuZGVuY3lOYW1lKTtcbiAgICAgICAgaXRlbSA9IGdyb3VwRGVwZW5kZW5jaWVzKGRlcGVuZGVuY3lHcmFwaCwgZGVwZW5kZW5jeU5hbWUpO1xuICAgIH0gaWYgKCFpdGVtKSB7XG4gICAgICAgIGxvZ2dlci50cmFjZSgnZ2V0RGVwZW5kZW5jeSB8IGZ1bGxEZXBlbmRlbmN5OiBHcm91cGVkIGRlcGVuZGVuY3kgbm90IGZvdW5kLiAgVHJ5aW5nIHRvIHJlcXVpcmUgZGVwZW5kZW5jeTogJyArIGRlcGVuZGVuY3lOYW1lKTtcbiAgICAgICAgaXRlbSA9IHRyeVJlcXVpcmVEZXBlbmRlbmN5KGRlcGVuZGVuY3lOYW1lKTtcbiAgICB9XG4gICAgcmV0dXJuIGl0ZW07XG59O1xuXG52YXIgcmVzb2x2ZWRJbnN0YW5jZSA9IGZ1bmN0aW9uKGRlcGVuZGVuY3lHcmFwaCwgZGVwZW5kZW5jeU5hbWUpe1xuICAgIHZhciBkZXBlbmRlbmN5ID0gZnVsbERlcGVuZGVuY3koZGVwZW5kZW5jeUdyYXBoLCBkZXBlbmRlbmN5TmFtZSk7XG4gICAgaWYoQXJyYXkuaXNBcnJheShkZXBlbmRlbmN5KSl7XG4gICAgICAgIHZhciBncm91cGVkRGVwZW5kZW5jeSA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpIG9mIGRlcGVuZGVuY3kpIHtcbiAgICAgICAgICAgIGlmIChpLmdyb3VwTmFtZSA9PSBkZXBlbmRlbmN5TmFtZSkge1xuICAgICAgICAgICAgICAgIGdyb3VwZWREZXBlbmRlbmN5LnB1c2goaS5yZXNvbHZlZEluc3RhbmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ3JvdXBlZERlcGVuZGVuY3k7XG4gICAgfVxuICAgIHJldHVybiBkZXBlbmRlbmN5ID8gZGVwZW5kZW5jeS5yZXNvbHZlZEluc3RhbmNlIDp1bmRlZmluZWQ7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgICAgZnVsbERlcGVuZGVuY3k6IGZ1bGxEZXBlbmRlbmN5LFxuICAgICAgICByZXNvbHZlZEluc3RhbmNlOiByZXNvbHZlZEluc3RhbmNlXG59O1xuIl19</pre></td></tr>
</table></pre>

</div>
<div class="footer">
    <div class="meta">Generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Tue Sep 22 2015 13:36:35 GMT-0500 (CDT)</div>
</div>
<script src="../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../sorter.js"></script>
</body>
</html>
