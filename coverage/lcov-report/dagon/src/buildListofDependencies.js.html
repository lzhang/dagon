<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for dagon/src/buildListofDependencies.js</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../../prettify.css">
    <link rel="stylesheet" href="../../base.css">
    <style type='text/css'>
        div.coverage-summary .sorter {
            background-image: url(../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class="header high">
    <h1>Code coverage report for <span class="entity">dagon/src/buildListofDependencies.js</span></h1>
    <h2>
        Statements: <span class="metric">100% <small>(46 / 46)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Branches: <span class="metric">68.75% <small>(11 / 16)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Functions: <span class="metric">100% <small>(15 / 15)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Lines: <span class="metric">100% <small>(46 / 46)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../index.html">All files</a> &#187; <a href="index.html">dagon/src/</a> &#187; buildListofDependencies.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">17</span>
<span class="cline-any cline-yes">24</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">125</span>
<span class="cline-any cline-yes">125</span>
<span class="cline-any cline-yes">96</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">124</span>
<span class="cline-any cline-yes">124</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">101</span>
<span class="cline-any cline-yes">242</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">101</span>
<span class="cline-any cline-yes">101</span>
<span class="cline-any cline-yes">101</span>
<span class="cline-any cline-yes">101</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">17</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">13</span>
<span class="cline-any cline-yes">13</span>
<span class="cline-any cline-yes">101</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">17</span>
<span class="cline-any cline-yes">17</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">17</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">17</span>
<span class="cline-any cline-yes">25</span>
<span class="cline-any cline-yes">242</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">17</span>
<span class="cline-any cline-yes">101</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">17</span>
<span class="cline-any cline-yes">17</span>
<span class="cline-any cline-yes">125</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">16</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/**
 * Created by rharik on 6/30/15.
 */
&nbsp;
'use strict';
&nbsp;
var invariant = require('invariant');
var logger = require('./logger');
var _ = require('lodash');
var extend = require('extend');
var path = require('path');
&nbsp;
var buildDependency = function buildDependency(manualCreates) {
    return manualCreates.map(function (x) {
        return {
            name: x.name,
            internal: x.internal,
            instantiate: x.instantiate,
            path: x.path ? x.path : <span class="branch-1 cbranch-no" title="branch not covered" >x.name,</span>
            groupName: x.groupName
&nbsp;
        };
    });
};
&nbsp;
var wrapInstances = function wrapInstances(item) {
    logger.trace('buildListOfDependencies | wrapInstance: Wrapping module ' + item.name + ' requiring item using path ' + item.path + '.');
    item.wrappedInstance = item.internal ? require(item.path) : function () {
        return require(item.path);
    };
&nbsp;
    invariant(_.isFunction(item.wrappedInstance), 'The following dependency: ' + item.name + ' at this path: ' + item.path + ' is not a function');
    return item;
};
&nbsp;
var updateDependency = function updateDependency(manualDeclarations, existingDeclaration) {
&nbsp;
    manualDeclarations.filter(function (x) {
        return x.name == existingDeclaration.name;
    }).forEach(function (i) {
        existingDeclaration.groupName = i.groupName;
        existingDeclaration.name = i.newName ? i.newName : <span class="branch-1 cbranch-no" title="branch not covered" >existingDeclaration.name;</span>
        existingDeclaration.path = i.path ? <span class="branch-0 cbranch-no" title="branch not covered" >i.path </span>: existingDeclaration.path;
        existingDeclaration.internal = i.internal ? <span class="branch-0 cbranch-no" title="branch not covered" >i.internal </span>: existingDeclaration.internal;
        existingDeclaration.instantiate = i.instantiate ? <span class="branch-0 cbranch-no" title="branch not covered" >i.instantiate </span>: existingDeclaration.instantiate;
    });
};
&nbsp;
var normalizeName = function normalizeName(orig) {
    var name = orig.replace(/-/g, '');
    name = name.replace(/\./g, '_');
    logger.trace('buildListOfDependencies | normalizeName: normalizing name: ' + orig + '-&gt;' + name);
    return name;
};
&nbsp;
var getDependenciesFromProjectJson = function getDependenciesFromProjectJson(pjson) {
    if (!pjson) {
        return [];
    }
    logger.trace('buildListOfDependencies | getDependenciesFromProjectJson: reading package.json dependencies');
    return Object.keys(pjson.dependencies).map(function (x) {
        return { name: normalizeName(x), path: x };
    });
};
&nbsp;
module.exports = function buildListOfDependencies(manualDeclarations, pjson) {
&nbsp;
    logger.trace('buildListOfDependencies | constructor : get package.json');
    manualDeclarations = manualDeclarations || [];
&nbsp;
    var result = getDependenciesFromProjectJson(pjson);
    // need to get these before we rename the pjson dependencies
    var manualCreates = manualDeclarations.filter(function (x) {
        return result.find(function (i) {
            return i.name == x.name;
        }) == null;
    });
    result.forEach(function (x) {
        return updateDependency(manualDeclarations, x);
    });
&nbsp;
    // could be problem if the registry has two declarations for one item.
    // maybe put check in registry so that doesn't happen
    result = result.concat(buildDependency(manualCreates));
    result.forEach(function (x) {
        return wrapInstances(x);
    });
    return result;
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3JoYXJpay9EZXZlbG9wbWVudC9NZXRob2RGaXRuZXNzL2RhZ29uL3NyYy9idWlsZExpc3RvZkRlcGVuZGVuY2llcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFJQSxJQUFJLFNBQVMsR0FBRyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUM7QUFDckMsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBQ2pDLElBQUksQ0FBQyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUMxQixJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDL0IsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDOztBQUUzQixJQUFJLGVBQWUsR0FBRyxTQUFTLGVBQWUsQ0FBQyxhQUFhLEVBQUU7QUFDMUQsV0FBTyxhQUFhLENBQUMsR0FBRyxDQUFDLFVBQUEsQ0FBQyxFQUFHO0FBQ3JCLGVBQU87QUFDSCxnQkFBSSxFQUFFLENBQUMsQ0FBQyxJQUFJO0FBQ1osb0JBQVEsRUFBRSxDQUFDLENBQUMsUUFBUTtBQUNwQix1QkFBVyxFQUFFLENBQUMsQ0FBQyxXQUFXO0FBQzFCLGdCQUFJLEVBQUUsQ0FBQyxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxJQUFJO0FBQzlCLHFCQUFTLEVBQUUsQ0FBQyxDQUFDLFNBQVM7O1NBRXpCLENBQUE7S0FBQyxDQUFDLENBQUE7Q0FDZCxDQUFDOztBQUVGLElBQUksYUFBYSxHQUFHLFNBQVMsYUFBYSxDQUFDLElBQUksRUFBRTtBQUM3QyxVQUFNLENBQUMsS0FBSyxDQUFDLDBEQUEwRCxHQUFHLElBQUksQ0FBQyxJQUFJLEdBQUcsNkJBQTZCLEdBQUcsSUFBSSxDQUFDLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQztBQUN2SSxRQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxRQUFRLEdBQzlCLE9B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QUFJLENBQUMsQ0FBQyxJQUFJO1NBQUEsQ0FBQyxJQUFJLElBQUk7S0FBQSxDQUFDLENBQUM7QUFDM0YsVUFBTSxDQUFDLE9BQU8sQ0FBQyxVQUFBLENBQUM7ZUFBRyxnQkFBZ0IsQ0FBQyxrQkFBa0IsRUFBRSxDQUFDLENBQUM7S0FBQSxDQUFDLENBQUM7Ozs7QUFJNUQsVUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsZUFBZSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUM7QUFDdkQsVUFBTSxDQUFDLE9BQU8sQ0FBQyxVQUFBLENBQUM7ZUFBRyxhQUFhLENBQUMsQ0FBQyxDQUFDO0tBQUEsQ0FBQyxDQUFDO0FBQ3JDLFdBQU8sTUFBTSxDQUFDO0NBQ2pCLENBQUMiLCJmaWxlIjoiL2hvbWUvcmhhcmlrL0RldmVsb3BtZW50L01ldGhvZEZpdG5lc3MvZGFnb24vc3JjL2J1aWxkTGlzdG9mRGVwZW5kZW5jaWVzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IHJoYXJpayBvbiA2LzMwLzE1LlxuICovXG5cbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdpbnZhcmlhbnQnKTtcbnZhciBsb2dnZXIgPSByZXF1aXJlKCcuL2xvZ2dlcicpO1xudmFyIF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbnZhciBleHRlbmQgPSByZXF1aXJlKCdleHRlbmQnKTtcbnZhciBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuXG52YXIgYnVpbGREZXBlbmRlbmN5ID0gZnVuY3Rpb24gYnVpbGREZXBlbmRlbmN5KG1hbnVhbENyZWF0ZXMpIHtcbiAgICByZXR1cm4gbWFudWFsQ3JlYXRlcy5tYXAoeD0+IHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbmFtZTogeC5uYW1lLFxuICAgICAgICAgICAgICAgIGludGVybmFsOiB4LmludGVybmFsLFxuICAgICAgICAgICAgICAgIGluc3RhbnRpYXRlOiB4Lmluc3RhbnRpYXRlLFxuICAgICAgICAgICAgICAgIHBhdGg6IHgucGF0aCA/IHgucGF0aCA6IHgubmFtZSxcbiAgICAgICAgICAgICAgICBncm91cE5hbWU6IHguZ3JvdXBOYW1lXG5cbiAgICAgICAgICAgIH19KVxufTtcblxudmFyIHdyYXBJbnN0YW5jZXMgPSBmdW5jdGlvbiB3cmFwSW5zdGFuY2VzKGl0ZW0pIHtcbiAgICBsb2dnZXIudHJhY2UoJ2J1aWxkTGlzdE9mRGVwZW5kZW5jaWVzIHwgd3JhcEluc3RhbmNlOiBXcmFwcGluZyBtb2R1bGUgJyArIGl0ZW0ubmFtZSArICcgcmVxdWlyaW5nIGl0ZW0gdXNpbmcgcGF0aCAnICsgaXRlbS5wYXRoICsgJy4nKTtcbiAgICBpdGVtLndyYXBwZWRJbnN0YW5jZSA9IGl0ZW0uaW50ZXJuYWxcbiAgICAgICAgPyByZXF1aXJlKGl0ZW0ucGF0aClcbiAgICAgICAgOiBmdW5jdGlvbigpIHsgcmV0dXJuIHJlcXVpcmUoaXRlbS5wYXRoKTsgfTtcblxuICAgIGludmFyaWFudChfLmlzRnVuY3Rpb24oaXRlbS53cmFwcGVkSW5zdGFuY2UpLFxuICAgICAgICAnVGhlIGZvbGxvd2luZyBkZXBlbmRlbmN5OiAnICsgaXRlbS5uYW1lICsgJyBhdCB0aGlzIHBhdGg6ICcgKyBpdGVtLnBhdGgrJyBpcyBub3QgYSBmdW5jdGlvbicpO1xuICAgIHJldHVybiBpdGVtO1xufTtcblxudmFyIHVwZGF0ZURlcGVuZGVuY3kgPSBmdW5jdGlvbiB1cGRhdGVEZXBlbmRlbmN5KG1hbnVhbERlY2xhcmF0aW9ucywgZXhpc3RpbmdEZWNsYXJhdGlvbikge1xuXG4gICAgbWFudWFsRGVjbGFyYXRpb25zXG4gICAgICAgIC5maWx0ZXIoeD0+eC5uYW1lID09IGV4aXN0aW5nRGVjbGFyYXRpb24ubmFtZSlcbiAgICAgICAgLmZvckVhY2goaT0+e1xuICAgICAgICAgICAgZXhpc3RpbmdEZWNsYXJhdGlvbi5ncm91cE5hbWUgICA9IGkuZ3JvdXBOYW1lO1xuICAgICAgICAgICAgZXhpc3RpbmdEZWNsYXJhdGlvbi5uYW1lICAgICAgICA9IGkubmV3TmFtZSA/IGkubmV3TmFtZSA6IGV4aXN0aW5nRGVjbGFyYXRpb24ubmFtZTtcbiAgICAgICAgICAgIGV4aXN0aW5nRGVjbGFyYXRpb24ucGF0aCAgICAgICAgPSBpLnBhdGggPyBpLnBhdGggOiBleGlzdGluZ0RlY2xhcmF0aW9uLnBhdGg7XG4gICAgICAgICAgICBleGlzdGluZ0RlY2xhcmF0aW9uLmludGVybmFsICAgID0gaS5pbnRlcm5hbCA/IGkuaW50ZXJuYWwgOiBleGlzdGluZ0RlY2xhcmF0aW9uLmludGVybmFsO1xuICAgICAgICAgICAgZXhpc3RpbmdEZWNsYXJhdGlvbi5pbnN0YW50aWF0ZSA9IGkuaW5zdGFudGlhdGUgPyBpLmluc3RhbnRpYXRlIDogZXhpc3RpbmdEZWNsYXJhdGlvbi5pbnN0YW50aWF0ZTtcbiAgICAgICAgfSk7XG59O1xuXG52YXIgbm9ybWFsaXplTmFtZSA9IGZ1bmN0aW9uIG5vcm1hbGl6ZU5hbWUob3JpZyl7XG4gICAgdmFyIG5hbWUgPSBvcmlnLnJlcGxhY2UoLy0vZywgJycpO1xuICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoL1xcLi9nLCAnXycpO1xuICAgIGxvZ2dlci50cmFjZSgnYnVpbGRMaXN0T2ZEZXBlbmRlbmNpZXMgfCBub3JtYWxpemVOYW1lOiBub3JtYWxpemluZyBuYW1lOiAnK29yaWcrJy0+JytuYW1lKTtcbiAgICByZXR1cm4gbmFtZTtcbn07XG5cbnZhciBnZXREZXBlbmRlbmNpZXNGcm9tUHJvamVjdEpzb24gPSBmdW5jdGlvbiBnZXREZXBlbmRlbmNpZXNGcm9tUHJvamVjdEpzb24ocGpzb24pe1xuICAgIGlmKCFwanNvbil7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgbG9nZ2VyLnRyYWNlKCdidWlsZExpc3RPZkRlcGVuZGVuY2llcyB8IGdldERlcGVuZGVuY2llc0Zyb21Qcm9qZWN0SnNvbjogcmVhZGluZyBwYWNrYWdlLmpzb24gZGVwZW5kZW5jaWVzJyk7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHBqc29uLmRlcGVuZGVuY2llcylcbiAgICAgICAgLm1hcCh4PT4ge3JldHVybiB7IG5hbWU6IG5vcm1hbGl6ZU5hbWUoeCksIHBhdGg6eCB9fSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJ1aWxkTGlzdE9mRGVwZW5kZW5jaWVzKG1hbnVhbERlY2xhcmF0aW9ucywgcGpzb24pIHtcblxuICAgIGxvZ2dlci50cmFjZSgnYnVpbGRMaXN0T2ZEZXBlbmRlbmNpZXMgfCBjb25zdHJ1Y3RvciA6IGdldCBwYWNrYWdlLmpzb24nKTtcbiAgICBtYW51YWxEZWNsYXJhdGlvbnMgPSBtYW51YWxEZWNsYXJhdGlvbnMgfHwgW107XG5cbiAgICB2YXIgcmVzdWx0ID0gZ2V0RGVwZW5kZW5jaWVzRnJvbVByb2plY3RKc29uKHBqc29uKTtcbiAgICAvLyBuZWVkIHRvIGdldCB0aGVzZSBiZWZvcmUgd2UgcmVuYW1lIHRoZSBwanNvbiBkZXBlbmRlbmNpZXNcbiAgICB2YXIgbWFudWFsQ3JlYXRlcz0gbWFudWFsRGVjbGFyYXRpb25zLmZpbHRlcih4PT4gcmVzdWx0LmZpbmQoaT0+aS5uYW1lID09IHgubmFtZSkgPT0gbnVsbCk7XG4gICAgcmVzdWx0LmZvckVhY2goeD0+IHVwZGF0ZURlcGVuZGVuY3kobWFudWFsRGVjbGFyYXRpb25zLCB4KSk7XG5cbiAgICAvLyBjb3VsZCBiZSBwcm9ibGVtIGlmIHRoZSByZWdpc3RyeSBoYXMgdHdvIGRlY2xhcmF0aW9ucyBmb3Igb25lIGl0ZW0uXG4gICAgLy8gbWF5YmUgcHV0IGNoZWNrIGluIHJlZ2lzdHJ5IHNvIHRoYXQgZG9lc24ndCBoYXBwZW5cbiAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KGJ1aWxkRGVwZW5kZW5jeShtYW51YWxDcmVhdGVzKSk7XG4gICAgcmVzdWx0LmZvckVhY2goeD0+IHdyYXBJbnN0YW5jZXMoeCkpO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xuIl19</pre></td></tr>
</table></pre>

</div>
<div class="footer">
    <div class="meta">Generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Tue Sep 22 2015 13:36:35 GMT-0500 (CDT)</div>
</div>
<script src="../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../sorter.js"></script>
</body>
</html>
